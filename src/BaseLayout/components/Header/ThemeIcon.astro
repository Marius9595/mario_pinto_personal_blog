---
---
<button id="themeToggle">
    <p>ðŸŒž</p>
</button>

<style>

    #themeToggle {
        width: 2rem;
        height: 2rem;
        display: flex;
        justify-content: center;
        align-items: center;
        aspect-ratio: 1;
        background: var(--color-bg);
        box-shadow: 0 0 10px var(--color-primary);
        border: none;
        border-radius: 10%;

        &:hover {
            cursor: pointer;
            box-shadow: 0 0 15px var(--color-secondary);
            transition: box-shadow 0.3s;
        }
    }
</style>

<script is:inline>
  function initializeTheme() {
    document.getElementById("themeToggle").addEventListener("click", () => {
      const isDark = document.documentElement.classList.toggle("dark");
      document.getElementById("themeToggle").textContent = isDark ? "ðŸŒœ" : "ðŸŒž";
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });

    const currentTheme = () => localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    document.documentElement.classList.add(currentTheme());
  }

  initializeTheme();
</script>